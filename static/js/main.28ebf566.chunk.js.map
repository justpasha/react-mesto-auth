{"version":3,"sources":["contexts/CurrentUserContext.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","images/logo.svg","components/Header.js","images/delete-icon.svg","components/Card.js","images/edit-avatar-icon.svg","images/edit-button-img.svg","images/add-button-img.svg","components/Main.js","components/Footer.js","images/close-icon.svg","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","images/success-icon.svg","images/error-icon.svg","components/NoticePopup.js","utils/api.js","utils/apiAuth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrenUserContext","React","createContext","ProtectedRoute","Component","component","props","loggedIn","to","Login","onLogin","useState","email","password","loginData","setLoginData","handleChange","e","target","name","value","className","onSubmit","preventDefault","data","type","placeholder","onChange","required","onRegister","registerData","setRegisterData","Header","onLogout","location","useLocation","history","useHistory","path","text","isMainPage","isMenuOpen","setIsMenuOpen","handleClick","push","pathname","onClick","src","logo","alt","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","like","cardLikeButtonClassName","deleteIcon","link","length","Main","style","backgroundImage","avatar","onEditAvatar","avaEditIcon","onEditProfile","editButtonIcon","about","onAddPlace","addButtonIcon","cards","map","Footer","PopupWithForm","isOpen","noValidate","title","children","buttonText","onClose","closeIcon","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","evt","id","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","valueRef","useRef","current","avatarData","ref","AddPlacePopup","setLink","clearInputs","ImagePopup","NoticePopup","successIcon","errorIcon","api","baseUrl","headers","this","_user","_cards","res","ok","json","Promise","reject","console","log","status","fetch","then","_checkResponse","method","body","JSON","stringify","cardId","authorization","BASE_URL","checkResponse","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","isCardPopupOpen","setIsCardPopupOpen","isNoticePopupOpen","setIsNoticePopupOpen","setCurrentUser","setCards","setEmail","noticePopupData","setNoticePopupData","setLoggedIn","closeAllPopups","tokenCheck","localStorage","getItem","token","jwt","Authorization","catch","err","getUserInfo","getInitialCards","Provider","removeItem","apiAuth","setItem","Register","changeLikeCardStatus","newCard","state","c","deleteCard","filter","changeAvatar","editProfileInfo","createCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.28ebf566.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrenUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React, { useState } from 'react';\r\n\r\nconst Login = ({ onLogin }) => {\r\n  const [loginData, setLoginData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setLoginData({\r\n      ...loginData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { ...data } = loginData;\r\n\r\n    onLogin(data);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <form className=\"login__form\" onSubmit={handleSubmit}>\r\n        <h2 className=\"login__heading\">Вход</h2>\r\n        <input\r\n          type=\"email\"\r\n          className=\"login__input\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          value={loginData.email}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          className=\"login__input\"\r\n          name=\"password\"\r\n          placeholder=\"Пароль\"\r\n          value={loginData.password}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <button type=\"submit\" className=\"login__button\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Login = ({ onRegister }) => {\r\n  const [registerData, setRegisterData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setRegisterData({\r\n      ...registerData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { ...data } = registerData;\r\n\r\n    onRegister(data);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <form className=\"login__form\" onSubmit={handleSubmit}>\r\n        <h2 className=\"login__heading\">Регистрация</h2>\r\n        <input\r\n          type=\"email\"\r\n          className=\"login__input\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          value={registerData.email}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          className=\"login__input\"\r\n          name=\"password\"\r\n          placeholder=\"Пароль\"\r\n          value={registerData.password}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <button type=\"submit\" className=\"login__button\">\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n      <div className=\"login__signin\">\r\n        <p className=\"login__text\">Уже зарегистрированы?&nbsp;</p>\r\n        <Link to=\"/signin\" className=\"login__link\">\r\n          Войти\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","export default __webpack_public_path__ + \"static/media/logo.b8ac1065.svg\";","import React, { useState } from 'react';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header({ onLogout, email }) {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const data = {\r\n    path: '',\r\n    text: 'Выйти',\r\n  };\r\n  let isMainPage = false;\r\n\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n  if (location.pathname === '/') {\r\n    isMainPage = true;\r\n  }\r\n\r\n  if (location.pathname === '/signin') {\r\n    data.path = '/signup';\r\n    data.text = 'Регистрация';\r\n  }\r\n  if (location.pathname === '/signup') {\r\n    data.path = '/signin';\r\n    data.text = 'Войти';\r\n  }\r\n\r\n  function handleClick() {\r\n    if (isMainPage) {\r\n      onLogout();\r\n      setIsMenuOpen(false);\r\n    } else {\r\n      history.push(data.path);\r\n    }\r\n  }\r\n\r\n  function handleOpenMenu() {\r\n    setIsMenuOpen(true);\r\n  }\r\n\r\n  function handleCloseMenu() {\r\n    setIsMenuOpen(false);\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div\r\n        className={`header__menu ${\r\n          isMenuOpen && isMainPage ? 'header__menu_opened' : ''\r\n        }`}\r\n      >\r\n        <p className=\"header__text\">{isMainPage ? email : ''}</p>\r\n        <button\r\n          className={`header__button ${\r\n            isMainPage ? 'header__button_type_exit' : ''\r\n          }`}\r\n          onClick={handleClick}\r\n        >\r\n          {data.text}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"header__container\">\r\n        <img src={logo} alt=\"лого\" className=\"header__logo\" />\r\n\r\n        {isMainPage ? (\r\n          <button\r\n            onClick={!isMenuOpen ? handleOpenMenu : handleCloseMenu}\r\n            className={`header__menu-button ${\r\n              isMenuOpen ? 'header__menu-button_type_close' : ''\r\n            }`}\r\n          ></button>\r\n        ) : (\r\n          ''\r\n        )}\r\n\r\n        <div\r\n          className={`header__info-container ${\r\n            isMainPage ? 'header__info-container_hidden' : ''\r\n          }`}\r\n        >\r\n          <p className=\"header__text\">{isMainPage ? email : ''}</p>\r\n          <button\r\n            className={`header__button ${\r\n              isMainPage ? 'header__button_type_exit' : ''\r\n            }`}\r\n            onClick={handleClick}\r\n          >\r\n            {data.text}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/delete-icon.2af49b82.svg\";","import React from 'react';\r\nimport { CurrenUserContext } from '../contexts/CurrentUserContext';\r\nimport deleteIcon from '../images/delete-icon.svg';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrenUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `element__delete-button ${\r\n    isOwn ? 'element__delete-button_visible' : ''\r\n  }`;\r\n\r\n  const isLiked = card.likes.some((like) => like._id === currentUser._id);\r\n  const cardLikeButtonClassName = `element__like-button ${\r\n    isLiked ? 'element__like-button_active' : ''\r\n  }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLike() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDelete() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"element\">\r\n      <button className={cardDeleteButtonClassName} onClick={handleDelete}>\r\n        <img src={deleteIcon} alt=\"удалить\" className=\"element__delete-icon\" />\r\n      </button>\r\n      <img\r\n        onClick={handleClick}\r\n        src={card.link}\r\n        alt={card.name}\r\n        className=\"element__image\"\r\n      />\r\n      <div className=\"element__name-container\">\r\n        <h2 className=\"element__name\">{card.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLike}\r\n            type=\"button\"\r\n          ></button>\r\n          <p className=\"element__like-count\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export default __webpack_public_path__ + \"static/media/edit-avatar-icon.ae1a976d.svg\";","export default __webpack_public_path__ + \"static/media/edit-button-img.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/add-button-img.bed8c136.svg\";","import React, { useContext } from 'react';\r\nimport { CurrenUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\nimport avaEditIcon from '../images/edit-avatar-icon.svg';\r\nimport editButtonIcon from '../images/edit-button-img.svg';\r\nimport addButtonIcon from '../images/add-button-img.svg';\r\n\r\nfunction Main(props) {\r\n  const currentUser = useContext(CurrenUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div\r\n          className=\"profile__avatar-container\"\r\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\r\n        >\r\n          <button\r\n            onClick={props.onEditAvatar}\r\n            className=\"profile__avatar-button\"\r\n          >\r\n            <img\r\n              src={avaEditIcon}\r\n              alt=\"изменить аватар\"\r\n              className=\"profile__avatar-icon\"\r\n            />\r\n          </button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__edit-container\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              onClick={props.onEditProfile}\r\n              className=\"profile__edit-button\"\r\n              type=\"button\"\r\n            >\r\n              <img\r\n                src={editButtonIcon}\r\n                alt=\"редактировать\"\r\n                className=\"profile__edit-button-image\"\r\n              />\r\n            </button>\r\n          </div>\r\n          <p className=\"profile__description\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          onClick={props.onAddPlace}\r\n          className=\"profile__add-button\"\r\n          type=\"button\"\r\n        >\r\n          <img\r\n            src={addButtonIcon}\r\n            alt=\"добавить\"\r\n            className=\"profile__add-button-image\"\r\n          />\r\n        </button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {props.cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={props.onCardClick}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","export default __webpack_public_path__ + \"static/media/close-icon.44bb1e48.svg\";","import React from 'react';\r\nimport closeIcon from '../images/close-icon.svg';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_${props.name} ${\r\n        props.isOpen ? 'popup_opened' : ''\r\n      }`}\r\n    >\r\n      <form\r\n        className=\"popup__container\"\r\n        name={props.name}\r\n        onSubmit={props.onSubmit}\r\n        noValidate\r\n      >\r\n        <h2 className=\"popup__heading\">{props.title}</h2>\r\n        {props.children}\r\n        <button type=\"submit\" className=\"popup__save-button\">\r\n          {props.buttonText}\r\n        </button>\r\n        <button\r\n          onClick={props.onClose}\r\n          className=\"popup__close-button\"\r\n          type=\"button\"\r\n        >\r\n          <img src={closeIcon} alt=\"закрыть\" className=\"popup__close-icon\" />\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { CurrenUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = useContext(CurrenUserContext);\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleDescreptionChange(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n    >\r\n      <input\r\n        id=\"profile-name-input\"\r\n        type=\"text\"\r\n        placeholder=\"Имя\"\r\n        className=\"popup__input popup__input_type_name\"\r\n        name=\"name\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        value={name || ''}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className=\"profile-name-input-error\"></span>\r\n      <input\r\n        id=\"profile-about-input\"\r\n        type=\"text\"\r\n        placeholder=\"О себе\"\r\n        className=\"popup__input popup__input_type_about\"\r\n        name=\"about\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        value={description || ''}\r\n        onChange={handleDescreptionChange}\r\n      />\r\n      <span className=\"profile-about-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const valueRef = useRef();\r\n\r\n  function handleClose() {\r\n    onClose();\r\n    valueRef.current.value = '';\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const avatarData = valueRef.current.value;\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarData,\r\n    });\r\n\r\n    valueRef.current.value = '';\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={handleClose}\r\n      onSubmit={handleSubmit}\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n    >\r\n      <input\r\n        id=\"avatar-link-input\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_card-link\"\r\n        name=\"avatar\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        ref={valueRef}\r\n        required\r\n      />\r\n      <span className=\"avatar-link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  function clearInputs() {\r\n    setName('');\r\n    setLink('');\r\n  }\r\n\r\n  function handleClose() {\r\n    onClose();\r\n    clearInputs();\r\n  }\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n\r\n    clearInputs();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={handleClose}\r\n      onSubmit={handleSubmit}\r\n      title=\"Новое место\"\r\n      buttonText=\"Создать\"\r\n    >\r\n      <input\r\n        id=\"place-name-input\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_card-name\"\r\n        name=\"name\"\r\n        placeholder=\"Название\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        value={name}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className=\"place-name-input-error\"></span>\r\n      <input\r\n        id=\"place-link-input\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_card-link\"\r\n        name=\"link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        value={link}\r\n        onChange={handleLinkChange}\r\n      />\r\n      <span className=\"place-link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport closeIcon from '../images/close-icon.svg';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup-image ${props.isOpen ? 'popup_opened' : ''}`}\r\n    >\r\n      <div className=\"popup-image__container\">\r\n        <img\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className=\"popup-image__image\"\r\n        />\r\n        <h2 className=\"popup-image__name\">{props.card.name}</h2>\r\n        <button\r\n          onClick={props.onClose}\r\n          className=\"popup__close-button\"\r\n          type=\"button\"\r\n        >\r\n          <img src={closeIcon} alt=\"закрыть\" className=\"popup__close-icon\" />\r\n        </button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","export default __webpack_public_path__ + \"static/media/success-icon.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/error-icon.d4ce2a26.svg\";","import React from 'react';\r\nimport successIcon from '../images/success-icon.svg';\r\nimport errorIcon from '../images/error-icon.svg';\r\nimport closeIcon from '../images/close-icon.svg';\r\n\r\nfunction NoticePopup({ isOpen, onClose, data }) {\r\n  return (\r\n    <section className={`popup ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__container popup__container_type_notice\">\r\n        <img\r\n          src={data.type === 'success' ? successIcon : errorIcon}\r\n          className=\"popup__image\"\r\n          alt=\"иконка\"\r\n        />\r\n        <p className=\"popup__heading popup__heading_type_notice\">{data.text}</p>\r\n        <button\r\n          onClick={onClose}\r\n          className=\"popup__close-button popup__close-button_type_notice\"\r\n          type=\"button\"\r\n        >\r\n          <img src={closeIcon} alt=\"закрыть\" className=\"popup__close-icon\" />\r\n        </button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default NoticePopup;\r\n","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this.baseUrl = baseUrl;\r\n    this.headers = headers;\r\n    this._user = 'users/me';\r\n    this._cards = 'cards';\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    return res.ok\r\n      ? res.json()\r\n      : Promise.reject(console.log(`Произошла ошибка ${res.status}`));\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this.baseUrl}/${this._cards}`, {\r\n      headers: this.headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.baseUrl}/${this._user}`, {\r\n      headers: this.headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  editProfileInfo(data) {\r\n    return fetch(`${this.baseUrl}/${this._user}`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  createCard(data) {\r\n    return fetch(`${this.baseUrl}/${this._cards}`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this.baseUrl}/${this._cards}/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n    });\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (!isLiked) {\r\n      return fetch(`${this.baseUrl}/${this._cards}/likes/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: this.headers,\r\n      }).then(this._checkResponse);\r\n    } else {\r\n      return fetch(`${this.baseUrl}/${this._cards}/likes/${cardId}`, {\r\n        method: 'PUT',\r\n        headers: this.headers,\r\n      }).then(this._checkResponse);\r\n    }\r\n  }\r\n\r\n  changeAvatar(data) {\r\n    return fetch(`${this.baseUrl}/${this._user}/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-21',\r\n  headers: {\r\n    authorization: '14241259-6e5d-4497-966c-a550cda05f4a',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst checkResponse = (res) => {\r\n  return res.ok\r\n    ? res.json()\r\n    : Promise.reject(console.log(`Произошла ошибка ${res.status}`));\r\n};\r\n\r\nconst headers = {\r\n  'Content-Type': 'application/json',\r\n};\r\n\r\nexport const register = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    headers,\r\n    method: 'POST',\r\n    body: JSON.stringify({ password, email }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const authorize = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    headers,\r\n    method: 'POST',\r\n    body: JSON.stringify({ password, email }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      ...headers,\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(checkResponse);\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport { CurrenUserContext } from '../contexts/CurrentUserContext';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport NoticePopup from './NoticePopup';\r\nimport api from '../utils/api';\r\nimport * as apiAuth from '../utils/apiAuth';\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [isCardPopupOpen, setIsCardPopupOpen] = useState(false);\r\n  const [isNoticePopupOpen, setIsNoticePopupOpen] = useState(false);\r\n\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [email, setEmail] = useState('');\r\n  const [noticePopupData, setNoticePopupData] = useState({\r\n    type: '',\r\n    text: '',\r\n  });\r\n\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  //загрузка данных\r\n  useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((data) => setCards(data))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  //обработчики карточки\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards(\r\n          cards.filter((c) => {\r\n            return c._id !== card._id;\r\n          })\r\n        );\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  //открытие попапов\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsCardPopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard({});\r\n    setIsCardPopupOpen(false);\r\n    setIsNoticePopupOpen(false);\r\n  }\r\n\r\n  //обновление данных\r\n  function handleUpdateUser(data) {\r\n    api\r\n      .editProfileInfo(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api\r\n      .changeAvatar(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    api\r\n      .createCard(data)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  //аутентификацию\r\n  function handleRegister(data) {\r\n    return apiAuth\r\n      .register(data)\r\n      .then(() => {\r\n        history.push('/singin');\r\n        setIsNoticePopupOpen(true);\r\n        setNoticePopupData({\r\n          type: 'success',\r\n          text: 'Вы успешно зарегистрировались!',\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setIsNoticePopupOpen(true);\r\n        setNoticePopupData({\r\n          type: 'error',\r\n          text: 'Что-то пошло не так! Попробуйте ещё раз.',\r\n        });\r\n      });\r\n  }\r\n\r\n  function handleLogin(data) {\r\n    return apiAuth\r\n      .authorize(data)\r\n      .then(({ token }) => {\r\n        localStorage.setItem('jwt', token);\r\n        tokenCheck();\r\n        setLoggedIn(true);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function tokenCheck() {\r\n    if (!localStorage.getItem('jwt')) {\r\n      return;\r\n    }\r\n\r\n    const jwt = localStorage.getItem('jwt');\r\n    apiAuth\r\n      .getContent(jwt)\r\n      .then((res) => {\r\n        setEmail(res.data.email);\r\n        setLoggedIn(true);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n    history.push('/signin');\r\n  }\r\n\r\n  useEffect(() => {\r\n    tokenCheck();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      history.push('/');\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <CurrenUserContext.Provider value={currentUser}>\r\n        <Header onLogout={handleLogout} email={email} />\r\n        <Switch>\r\n          <Route path=\"/signin\">\r\n            <Login onLogin={handleLogin} />\r\n          </Route>\r\n          <Route path=\"/signup\">\r\n            <Register onRegister={handleRegister} />\r\n          </Route>\r\n          <ProtectedRoute\r\n            path=\"/\"\r\n            component={Main}\r\n            loggedIn={loggedIn}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            card={selectedCard}\r\n            onCardClick={handleCardClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n        </Switch>\r\n        <Footer />\r\n\r\n        <ImagePopup\r\n          isOpen={isCardPopupOpen}\r\n          onClose={closeAllPopups}\r\n          card={selectedCard}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n\r\n        <NoticePopup\r\n          isOpen={isNoticePopupOpen}\r\n          onClose={closeAllPopups}\r\n          data={noticePopupData}\r\n        />\r\n      </CurrenUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}